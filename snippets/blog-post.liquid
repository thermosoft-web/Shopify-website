{%- liquid
	assign read_more = 'blogs.article.read_more' | t
	assign ratio = 1
	assign article_content_alignment = settings.article_content_alignment
	assign info_spacing = true
	assign article_card_border = settings.article_card_border
	assign article_card_shadow = settings.article_card_shadow
	assign article_card_shadow_class = 'has-shadow--' | append: article_card_shadow

	case image_ratio
		when 'adapt'
			assign image_sizes = '320x0,640x0'
			if article.image
				assign ratio = article.image.aspect_ratio
			endif
		when 'square'
			assign image_sizes = '320x320,640x640'
			assign ratio = 1
		when 'landscape'
			assign image_sizes = '320x200,640x400'
			assign ratio = 1.6
		when 'portrait'
			assign image_sizes = '320x400,640x800'
			assign ratio = 0.8
	endcase

	assign color_body_bg = settings.color_body_bg | downcase
	assign color_article_card_bg = settings.color_article_card_bg | downcase

	if color_body_bg == color_article_card_bg or color_article_card_bg == 'transparent' or color_article_card_bg == 'rgba(0,0,0,0)'
		unless article_card_border
			assign info_spacing = false
		endunless
		if article_card_shadow
			assign info_spacing = true
		endif
	endif

-%}
{%- if article -%}
<div class="blog-post text-{{ article_content_alignment }} blog-post--content-spacing-{{ info_spacing }} blog-post--border-{{ article_card_border }} {{ article_card_shadow_class }}">
	<figure class="featured-image">
		<div class="aspect-ratio" style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;">
			<a href="{{ article.url }}" class="featured-image-link" title="{{ article.title | escape }}">
				{%- if article.image -%}
					{%- render 'responsive-image', image: article.image, sizes: image_sizes -%}
				{%- endif -%}
			</a>
		</div>
	</figure>
	<div class="blog-post-info">
		{% if show_date %}
		<aside class="post-meta">
			{{ article.published_at | date: "%B %d %Y" }}
		</aside>
		{% endif %}
		<h5 class="body-regular"><a href="{{ article.url }}" title="{{ article.title | escape }}">{{ article.title }}</a></h5>
		{% if show_excerpt %}
		<div class="post-excerpt body-small">
			<p>{{ article.excerpt_or_content | strip_html }}</p>
		</div>
		{% endif %}
		<div class="blog-name">
			{{ blog.title }}
			<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M18.75 20H5.25C4.41986 20.0001 3.62117 19.6824 3.01777 19.1123C2.41437 18.5422 2.052 17.7628 2.005 16.934L2 16.75V6.25C1.99993 5.67987 2.2163 5.13098 2.60537 4.71425C2.99444 4.29751 3.52721 4.04402 4.096 4.005L4.25 4H16.75C17.3201 3.99993 17.869 4.2163 18.2858 4.60537C18.7025 4.99444 18.956 5.52721 18.995 6.096L19 6.25V7H19.75C20.3201 6.99993 20.869 7.2163 21.2858 7.60537C21.7025 7.99444 21.956 8.52721 21.995 9.096L22 9.25V16.75C22.0001 17.5801 21.6824 18.3788 21.1123 18.9822C20.5422 19.5856 19.7628 19.948 18.934 19.995L18.75 20ZM5.25 18.5H18.75C19.1893 18.5 19.6126 18.3347 19.9357 18.037C20.2588 17.7392 20.4581 17.3309 20.494 16.893L20.5 16.75V9.25C20.5 9.06876 20.4344 8.89366 20.3152 8.75707C20.1961 8.62048 20.0316 8.53165 19.852 8.507L19.75 8.5H19V16.25C19 16.4312 18.9344 16.6063 18.8152 16.7429C18.6961 16.8795 18.5316 16.9684 18.352 16.993L18.25 17C18.0688 17 17.8937 16.9344 17.7571 16.8152C17.6205 16.6961 17.5316 16.5316 17.507 16.352L17.5 16.25V6.25C17.5 6.06876 17.4344 5.89366 17.3152 5.75707C17.1961 5.62048 17.0316 5.53165 16.852 5.507L16.75 5.5H4.25C4.06876 5.50001 3.89366 5.56564 3.75707 5.68477C3.62048 5.80389 3.53165 5.96845 3.507 6.148L3.5 6.25V16.75C3.50002 17.1892 3.66517 17.6123 3.96268 17.9354C4.26019 18.2585 4.6683 18.4579 5.106 18.494L5.25 18.5ZM12.246 14.5H15.252C15.442 14.5001 15.6249 14.5722 15.7638 14.702C15.9026 14.8317 15.9871 15.0093 16 15.1989C16.013 15.3885 15.9535 15.5759 15.8336 15.7233C15.7137 15.8707 15.5422 15.9671 15.354 15.993L15.252 16H12.246C12.056 15.9999 11.8731 15.9278 11.7342 15.798C11.5954 15.6683 11.5109 15.4907 11.498 15.3011C11.485 15.1115 11.5445 14.9241 11.6644 14.7767C11.7843 14.6293 11.9558 14.5329 12.144 14.507L12.246 14.5ZM9.243 11.005C9.44191 11.005 9.63268 11.084 9.77333 11.2247C9.91398 11.3653 9.993 11.5561 9.993 11.755V15.25C9.993 15.4489 9.91398 15.6397 9.77333 15.7803C9.63268 15.921 9.44191 16 9.243 16H5.748C5.54909 16 5.35832 15.921 5.21767 15.7803C5.07702 15.6397 4.998 15.4489 4.998 15.25V11.755C4.998 11.5561 5.07702 11.3653 5.21767 11.2247C5.35832 11.084 5.54909 11.005 5.748 11.005H9.243ZM8.493 12.505H6.498V14.5H8.493V12.505ZM12.246 11.005H15.252C15.442 11.0051 15.6249 11.0772 15.7638 11.207C15.9026 11.3367 15.9871 11.5143 16 11.7039C16.013 11.8935 15.9535 12.0809 15.8336 12.2283C15.7137 12.3757 15.5422 12.4721 15.354 12.498L15.252 12.505H12.246C12.0546 12.5069 11.8697 12.4357 11.7292 12.3057C11.5887 12.1758 11.5032 11.9971 11.4901 11.8061C11.4771 11.6152 11.5375 11.4265 11.6591 11.2787C11.7807 11.1308 11.9541 11.0351 12.144 11.011L12.246 11.005ZM5.748 7.502H15.252C15.4434 7.50005 15.6283 7.57134 15.7688 7.70127C15.9093 7.8312 15.9948 8.00993 16.0079 8.20088C16.0209 8.39182 15.9605 8.58052 15.8389 8.72834C15.7173 8.87616 15.5439 8.97192 15.354 8.996L15.252 9.002H5.748C5.55798 9.00194 5.37506 8.92976 5.23621 8.80003C5.09736 8.6703 5.01293 8.4927 4.99997 8.30312C4.98702 8.11354 5.04652 7.92611 5.16643 7.7787C5.28635 7.63129 5.45775 7.5349 5.646 7.509L5.748 7.502Z" fill="currentColor"/>
			</svg>
		</div>
		{% if show_read_more %}
		{% render 'text-button', url: article.url, title: read_more, class: 'read-more' %}
		{% endif %}
	</div>
</div>
{%- else -%}
<div class="blog-post text-{{ article_content_alignment }} blog-post--content-spacing-{{ info_spacing }} blog-post--border-{{ article_card_border }} {{ article_card_shadow_class }}">
	<figure class="featured-image">
		<div class="aspect-ratio" style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;">
			<a href="{{ article.url }}" class="featured-image-link" title="{{ article.title | escape }}">
				<div class="thb-placeholder">
					{{ 'image' | placeholder_svg_tag }}
				</div>
			</a>
		</div>
	</figure>
	<div class="blog-post-info">
		{% if show_date %}
		<aside class="post-meta">
			{{ "today" | date: "%B %d %Y" }}
		</aside>
		{% endif %}
		<h5><a role="link" aria-disabled="true">{{ 'sections.featured_blog.onboarding_title' | t }}</a></h5>
		{% if show_excerpt %}
		<div class="post-excerpt">
			<p>{{ 'sections.featured_blog.onboarding_content' | t }}</p>
		</div>
		{% endif %}
		{% if show_read_more %}
		{% render 'text-button', url: article.url, title: read_more, class: 'read-more', disabled: true %}
		{% endif %}
	</div>
</div>
{%- endif -%}
