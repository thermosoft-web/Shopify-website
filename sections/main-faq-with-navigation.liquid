{%- liquid
	assign section_heading = section.settings.heading
	assign section_description = section.settings.description

	assign color_heading = section.settings.color_heading
	assign color_text = section.settings.color_text
	assign color_links = section.settings.color_links
	
	assign desktop_spacing_top = section.settings.desktop_spacing_top
	assign desktop_spacing_bottom = section.settings.desktop_spacing_bottom
	assign mobile_spacing_top = section.settings.mobile_spacing_top
	assign mobile_spacing_bottom = section.settings.mobile_spacing_bottom
	assign disable_top_spacing = section.settings.disable_top_spacing
	assign disable_bottom_spacing = section.settings.disable_bottom_spacing
-%}

{% style %}
	#shopify-section-{{ section.id }} {
		--section-spacing-mobile-top: {{ mobile_spacing_top | default: '15' | append: 'px' }};
		--section-spacing-mobile-bottom: {{ mobile_spacing_bottom | default: '15' | append: 'px' }};
		--section-spacing-desktop-top: {{ desktop_spacing_top | default: '30' | append: 'px' }};
		--section-spacing-desktop-bottom: {{ desktop_spacing_bottom | default: '30' | append: 'px' }};
	}
{% endstyle %}

{{ 'main-faq-with-navigation.css' | asset_url | stylesheet_tag }}
<main-faq-with-navigation class="main-faq-with-navigation section-spacing{% if disable_top_spacing %} section-spacing--disable-top{% endif %}{% if disable_bottom_spacing %} section-spacing--disable-bottom{% endif %}"  style="--color-heading: {{ color_heading }}; --color-text: {{ color_text }}; --color-accent: {{ color_links }}; --color-accent-rgb: {{ color_links.rgb | replace: ' ' , ',' }};">
	<div class="row">
		<div class="small-12 columns">
			{%- render 'section-header', section_heading: section_heading, section_description: section_description -%}
		</div>
	</div>
	<div class="main-faq-with-navigation--inner">
		<div class="main-faq-with-navigation--menu heading-font">
			<div>
				{%- assign active = false -%}
				{%- for block in section.blocks -%}
					{%- if block.settings.heading != blank and block.settings.text != blank -%}
						<button class="main-faq-with-navigation--button{% unless active %} active{% endunless %}">{{ block.settings.heading }}</button>
						{%- unless active -%}
							{%- assign active = true %}
						{%- endunless -%}
					{%- endif -%}
				{%- endfor -%}
			</div>
		</div>
		<div class="main-faq-with-navigation--content">
			{%- for block in section.blocks -%}
				{%- if block.settings.heading != blank and block.settings.text != blank -%}
					<div class="main-faq-with-navigation--page">
						{%- if block.settings.heading -%}
							<h2 class="{{ block.settings.size }}">{{ block.settings.heading }}</h2>
						{%- endif -%}
						{%- if block.settings.text != blank -%}
							<div class="rte">
								{{ block.settings.text }}
							</div>
						{%- endif -%}
					</div>
				{%- endif -%}
			{%- endfor -%}
		</div>
	</div>
</main-faq-with-navigation>
<script src="{{ 'main-faq-with-navigation.js' | asset_url }}" defer="defer"></script>
{% schema %}
  {
    "name": "FAQs with navigation",
		"class": "section-faq-with-navigation",
    "settings": [
			{
				"type": "text",
				"id": "heading",
				"label": "Heading",
				"default": "Main faq with navigation"
			},
			{
				"type": "richtext",
				"id": "description",
				"label": "Description",
				"default": "<p>Add a short description for this section</p>"
			},
			{
				"type": "header",
				"content": "Colors"
			},
			{
				"type": "color",
				"id": "color_heading",
				"label": "Heading",
				"default": "#1a1c1d"
			},
			{
				"type": "color",
				"id": "color_text",
				"label": "Text",
				"default": "#2c2d2e"
			},
			{
				"type": "color",
				"id": "color_links",
				"label": "Links",
				"default": "#2c2d2e"
			},
			{
				"type": "header",
				"content": "Spacing"
			},
			{
				"type": "checkbox",
				"id": "disable_top_spacing",
				"default": false,
				"label": "Remove top spacing"
			},
			{
				"type": "checkbox",
				"id": "disable_bottom_spacing",
				"default": false,
				"label": "Remove bottom spacing"
			},
			
			{
				"type": "header",
				"content": "Desktop spacing"
			},
			{
				"type": "range",
				"id": "desktop_spacing_top",
				"min": 0,
				"max": 200,
				"step": 5,
				"unit": "px",
				"label": "Desktop spacing top",
				"default": 100,
				"info": "Changes the section top spacing in desktop screens."
			},
			{
				"type": "range",
				"id": "desktop_spacing_bottom",
				"min": 0,
				"max": 200,
				"step": 5,
				"unit": "px",
				"label": "Desktop spacing bottom",
				"default": 100,
				"info": "Changes the section bottom spacing in desktop screens."
			},
			{
				"type": "header",
				"content": "Mobile spacing"
			},
			{
				"type": "range",
				"id": "mobile_spacing_top",
				"min": 0,
				"max": 200,
				"step": 5,
				"unit": "px",
				"label": "Mobile spacing top",
				"default": 50,
				"info": "Changes the section top spacing in mobile screens."
			},
			{
				"type": "range",
				"id": "mobile_spacing_bottom",
				"min": 0,
				"max": 200,
				"step": 5,
				"unit": "px",
				"label": "Mobile spacing bottom",
				"default": 50,
				"info": "Changes the section bottom spacing in mobile screens."
			}
    ],
    "blocks": [
      {
        "type": "faq",
        "name": "Faq",
        "settings": [
					{
						"type": "text",
						"id": "heading",
						"label": "Heading",
						"default": "FAQ Heading"
					},
					{
						"type": "select",
						"id": "size",
						"label": "Size",
						"options": [
							{
								"value": "h1",
								"label": "Extra Large"
							},
										{
								"value": "h2",
								"label": "Large"
							},
										{
								"value": "h3",
								"label": "Medium"
							},
										{
								"value": "h4",
								"label": "Small"
							}
						],
						"default": "h3"
					},
					{
						"type": "richtext",
						"id": "text",
						"label": "Content",
						"default": "<p>Share information about your brand with your customers. Describe a product, make announcements, or welcome customers to your store.</p>"
					}
        ]
      }
    ],
    "presets": [
      {
        "name": "FAQs with navigation",
				"blocks": [
					{
						"type": "faq"
					},
					{
						"type": "faq"
					},
					{
						"type": "faq"
					}
				]
      }
    ],
		"enabled_on": {
			"templates": ["*"],
			"groups": [
				"header", "footer"
			]
		}
  }
{% endschema %}
