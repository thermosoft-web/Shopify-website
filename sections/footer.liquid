{%- liquid
  assign copyright_text = section.settings.copyright_text
  assign show_language_switcher = section.settings.show_language_switcher
  assign show_currency_switcher = section.settings.show_currency_switcher
  assign show_payment_icons = section.settings.show_payment_icons
  assign footer_reveal_animation = section.settings.footer_reveal_animation
-%}

<link rel="stylesheet" href="{{ 'footer.css' | asset_url }}" media="print" onload="this.media='all'">
<noscript>{{ 'footer.css' | asset_url | stylesheet_tag }}</noscript>
<theme-footer class="footer" id="footer">
  <div class="row">
    {%- for block in section.blocks -%}
      {% if block.type == 'text' %}
        {%- liquid
          assign column_class = 'small-12 medium-5 large-2'
          case block.settings.column_size
            when 'medium'
              assign column_class = 'small-12 medium-3'
            when 'large'
              assign column_class = 'small-12 medium-5'
          endcase
        -%}
        <div class="{{ column_class | escape }} columns" {{ block.shopify_attributes }}>
          <div class="widget footer-logo widget--text text-{{ block.settings.text_alignment }}">
            {%- if block.settings.title != blank -%}
              <div class="thb-widget-title">{{ block.settings.title }}</div>
            {%- endif -%}
            {%- if block.settings.image != blank -%}
              {% assign image = block.settings.image %}
              {% assign master_width = image.src.width | append: 'x' | append: image.src.height %}
              {%- render 'responsive-image', image: image, sizes: master_width, retina: 1, priority: 'low' -%}
            {%- endif -%}
            {%- if block.settings.text != blank -%}
              <div class="rte text-size--{{ block.settings.text_size }}">
                {{ block.settings.text }}
              </div>
            {%- endif -%}
            {%- if block.settings.button_text != blank -%}
              <div class="footer-contact-adv">
                 {% render 'text-button', url: block.settings.button_link, title: block.settings.button_text, call: block.settings.call_svg %}
                  <div class="accessibility-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none">
                    <g clip-path="url(#clip0_7867_23725)">
                      <path d="M34 17C34 7.61116 26.3888 0 17 0C7.61116 0 0 7.61116 0 17C0 26.3888 7.61116 34 17 34C26.3888 34 34 26.3888 34 17Z" fill="#151616"></path>
                      <path d="M16.9993 2.50992C25.0021 2.50992 31.4897 8.99753 31.4897 17.0005C31.4897 25.0032 25.0021 31.4908 16.9993 31.4908C8.9964 31.4908 2.50879 25.0032 2.50879 17.0005C2.50879 8.99753 8.9964 2.50992 16.9993 2.50992ZM16.9993 3.64325C9.62233 3.64325 3.64212 9.62346 3.64212 17.0005C3.64212 24.3773 9.62233 30.3575 16.9993 30.3575C24.3762 30.3575 30.3564 24.3773 30.3564 17.0005C30.3564 9.62346 24.3762 3.64325 16.9993 3.64325ZM12.8386 15.6552L12.8391 17.205C11.685 17.8451 10.9044 19.0726 10.9044 20.4814C10.9044 22.5504 12.5883 24.2286 14.6665 24.2286C16.2926 24.2286 17.6771 23.2014 18.2027 21.7633L19.6778 21.7632C19.1063 23.9917 17.079 25.6389 14.6665 25.6389C11.8105 25.6389 9.49416 23.3303 9.49416 20.4814C9.49416 18.2743 10.8843 16.3916 12.8386 15.6552ZM15.8848 11.9814C16.1519 11.9814 16.4039 12.0456 16.6262 12.1594C16.6583 12.1743 16.6899 12.1915 16.7204 12.2113C16.8145 12.268 16.9023 12.3336 16.9828 12.4071L19.3703 14.212H21.7061C22.0711 14.212 22.3713 14.4896 22.4075 14.8451L22.4111 14.9173C22.4111 15.3067 22.0955 15.6223 21.7061 15.6223H19.1337C18.9803 15.6223 18.8309 15.5723 18.7085 15.4797L17.5091 14.5729V18.012L20.8738 18.5715C21.0874 18.607 21.2729 18.7386 21.3768 18.9285L23.8135 23.381C24.0004 23.7225 23.875 24.1509 23.5334 24.3379C23.4423 24.3878 23.345 24.4154 23.2478 24.4228L23.175 24.4244C22.933 24.4173 22.701 24.2857 22.5763 24.058L20.4765 20.2211L16.151 20.4597C16.0951 20.4689 16.0381 20.4753 15.9803 20.4787L15.8848 20.4814C14.9878 20.4814 14.2604 19.7564 14.2604 18.8622V13.6004C14.2604 12.7063 14.9878 11.9814 15.8848 11.9814ZM24.5466 13.9753C24.7455 14.0751 24.8259 14.3172 24.7261 14.5161L23.3688 17.2216C23.3005 17.3577 23.1611 17.4437 23.0087 17.4437H20.1659C19.9435 17.4437 19.763 17.2634 19.763 17.0408C19.763 16.8183 19.9435 16.6379 20.1659 16.6379L22.7601 16.6378L24.0057 14.1548C24.1056 13.9559 24.3477 13.8755 24.5466 13.9753ZM16.6972 7.93374C17.5942 7.93374 18.3215 8.65866 18.3215 9.55278C18.3215 10.4469 17.5942 11.1718 16.6972 11.1718C15.8 11.1718 15.0727 10.4469 15.0727 9.55278C15.0727 8.65866 15.8 7.93374 16.6972 7.93374Z" fill="white"></path>
                    </g>
                    <defs>
                      <clipPath id="clip0_7867_23725">
                      <rect width="34" height="34" fill="white"></rect>
                      </clipPath>
                    </defs>
                    </svg>
                  </div>
               </div> 
            {%- endif -%}
          </div>
        </div>
      {% endif %}
      {%- if block.type == 'menu' -%}
        {%- liquid
          assign column_class = 'small-12 medium-3 large-2'
          case block.settings.column_size
            when 'medium'
              assign column_class = 'small-12 medium-3'
            when 'large'
              assign column_class = 'small-12 medium-4'
          endcase
        -%}
        <div class="{{ column_class | escape }} columns widget--menu-column" {{ block.shopify_attributes }}>
          <div class="widget widget--menu">
            <button class="thb-widget-title collapsible" tabindex="0">
              {{ block.settings.title }}
              <span>{%- render 'svg-icons' with 'thb-collapsible-arrow' -%}</span>
            </button>
            {%- if block.settings.menu != blank -%}
              <ul class="thb-widget-menu">
                {% for link in block.settings.menu.links %}
                  {% assign has_sub_menu = false %}
                  {% if link.links.size > 0 %}
                    {% assign has_sub_menu = true %}
                  {% endif %}
                  <li class="{% if has_sub_menu %}menu-item-has-children{% endif %}{% if link.active %} active{% endif %}">
                    <a
                      href="{{ link.url }}"
                      class="body-small"
                      title="{{ link.title | escape }}"
                      {%- if link.active %}
                        aria-current="page"
                      {% endif -%}
                    >
                      {{- link.title -}}
                    </a>
                    {%- if has_sub_menu -%}
                      <span class="thb-arrow" tabindex="0">{%- render 'svg-icons' with 'thb-dropdown-bottom' -%}</span>
                    {%- endif %}
                    {% if has_sub_menu %}
                      <ul class="sub-menu" tabindex="-1">
                        {% for l in link.links %}
                          {% assign has_sub_menu = false %}
                          {% if l.links.size > 0 %}
                            {% assign has_sub_menu = true %}
                          {% endif %}
                          <li
                            class="{% if has_sub_menu %}menu-item-has-children{% endif %}{% if l.active %} active{% endif %}"
                            role="none"
                          >
                            <a href="{{ l.url }}" title="{{ l.title | escape }}" role="menuitem">{{ l.title }}</a>
                            {%- if has_sub_menu -%}
                              <span class="thb-arrow" tabindex="0">
                                {%- render 'svg-icons' with 'thb-dropdown-bottom' -%}
                              </span>
                            {%- endif %}
                            {% if has_sub_menu %}
                              <ul class="sub-menu" role="menu">
                                {% for sub_link in l.links %}
                                  {% assign has_sub_menu = false %}
                                  {% if sub_link.links.size > 0 %}
                                    {% assign has_sub_menu = true %}
                                  {% endif %}
                                  <li
                                    class="{% if has_sub_menu %}menu-item-has-children{% endif %}{% if sub_link.active %} active{% endif %}"
                                    role="none"
                                  >
                                    <a href="{{ sub_link.url }}" title="{{ sub_link.title | escape }}" role="menuitem">
                                      {{- sub_link.title -}}
                                    </a>
                                  </li>
                                {% endfor %}
                              </ul>
                            {% endif %}
                          </li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                  </li>
                {% endfor %}
              </ul>
            {%- endif -%}
          </div>
        </div>
      {%- endif -%}
      {%- if block.type == 'signup' -%}
        {%- liquid
          assign column_class = 'small-12 medium-4 large-2'
          case block.settings.column_size
            when 'medium'
              assign column_class = 'small-12 medium-3'
            when 'large'
              assign column_class = 'small-12 medium-4'
          endcase
        -%}
        <div class="{{ column_class | escape }} columns" {{ block.shopify_attributes }}>
          <div class="widget widget--signup">
            {% if block.settings.title != blank %}
              <div class="thb-widget-title">{{ block.settings.title }}</div>
            {% endif %}
            {% if block.settings.text != blank %}
              {{ block.settings.text }}
            {% endif %}
            {% render 'email-signup-form' %}
            {%- if block.settings.show_social_links -%}
              {%- render 'social-links', show_label: false -%}
            {%- endif -%}
          </div>
        </div>
      {%- endif -%}
      {%- if block.type == 'social' -%}
        {%- liquid
          assign column_class = 'small-6 medium-4 large-2'
          case block.settings.column_size
            when 'medium'
              assign column_class = 'small-12 medium-3'
            when 'large'
              assign column_class = 'small-12 medium-4'
          endcase
        -%}
        <div class="{{ column_class | escape }} columns" {{ block.shopify_attributes }}>
          <div class="widget widget--social">
            {% if block.settings.title != blank %}
              <div class="thb-widget-title">{{ block.settings.title }}</div>
            {% endif %}
            {% render 'social-links', show_label: true %}
          </div>
        </div>
      {%- endif -%}
      {%- if block.type == 'custom_liquid' -%}
				{%- liquid
					assign column_class = 'small-6 medium-4 large-2'
					case block.settings.column_size
						when 'medium'
							assign column_class = 'small-12 medium-3'
						when 'large'
							assign column_class = 'small-12 medium-6'
					endcase
				-%}
				<div class="{{ column_class | escape }} columns" {{ block.shopify_attributes }}>
					<div class="widget widget--custom">
						{% if block.settings.title != blank %}
							<div class="thb-widget-title">{{ block.settings.title }}</div>
						{% endif %}
						{{ block.settings.custom_liquid }}
					</div>
				</div>
      {%- endif -%}
    {%- endfor -%}
  </div>
  <div class="sub-footer">
    <div class="row">
      <div class="small-12 columns"><hr></div>
      {% comment %} <div class="small-12 medium-8 columns">
        {% render 'localization',
          id: 'FooterLocalization',
          show_language_switcher: show_language_switcher,
          show_currency_switcher: show_currency_switcher,
          open_top: true
        %}
      </div>
      {%- if show_payment_icons -%}
      <div class="small-12 medium-4 columns">
          <div class="footer-payment-icons">
            {%- unless shop.enabled_payment_types == empty -%}
              {%- for type in shop.enabled_payment_types -%}
                <figure>{{ type | payment_type_svg_tag: class: 'payment-icons__icon' }}</figure>
              {%- endfor -%}
            {%- endunless -%}
          </div>
        </div>
      {%- endif -%} {% endcomment %}
      <div class="small-12 columns privacy-terms">
          <div class="condition_page">
          <a href="{{ section.settings.privacy_url }}" class="body-extra-small">Privacy Policy</a>
          <a href="{{ section.settings.tearms_url }}" class="body-extra-small">Terms</a>
        </div>
        <div class="powerd-by">
          <p>
            &copy; {{ 'now' | date: '%Y' }}
            {{ shop.name }}, {{ copyright_text }}
            {% comment %} {{ powered_by_link }} {% endcomment %}
          </p>
          {%- if shop.features.follow_on_shop? and section.settings.enable_follow_on_shop -%}
            <div class="footer--follow-on-shop">
              {{ shop | login_button: action: 'follow' }}
            </div>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>
</theme-footer>
{% if footer_reveal_animation %}
  <script src="{{ 'footer.js' | asset_url }}" defer="defer"></script>
{% endif %}
{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "checkbox",
      "id": "footer_reveal_animation",
      "default": false,
      "label": "Enable reveal animation"
    },
    {
      "type": "text",
      "id": "copyright_text",
      "label": "Additional copyright text",
      "default": "All rights reserved."
    },
    {
      "type": "checkbox",
      "id": "show_language_switcher",
      "label": "Enable language switcher",
      "default": true,
      "info": "To add a language, go to your [language settings](/admin/settings/languages)."
    },
    {
      "type": "checkbox",
      "id": "show_currency_switcher",
      "label": "Enable currency switcher",
      "default": true,
      "info": "To add a country/region, go to your [payment settings](/admin/settings/payments)."
    },
    {
      "type": "checkbox",
      "id": "show_payment_icons",
      "label": "Show payment icons",
      "default": true,
      "info": "By default your theme shows the icons that are associated with the payment gateway you have enabled in the [payment settings](/admin/settings/payments)."
    },
    {
      "type": "url",
      "id": "privacy_url",
      "label": "Privacy Link"
    },
    {
      "type": "url",
      "id": "tearms_url",
      "label": "Tearms Link"
    },
    {
      "type": "header",
      "content": "Follow on Shop",
      "info": "To allow customers to follow your store on the Shop app from your storefront, Shop Pay must be enabled. [Learn more](https://help.shopify.com/manual/online-store/themes/customizing-themes/follow-on-shop)"
    },
    {
      "type": "checkbox",
      "id": "enable_follow_on_shop",
      "default": true,
      "label": "Enable Follow on Shop"
    }
  ],
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "select",
          "id": "column_size",
          "label": "Column size",
          "options": [
            { "value": "small", "label": "Small" },
            { "value": "medium", "label": "Medium" },
            { "value": "large", "label": "Large" }
          ],
          "default": "small"
        },
        {
          "type": "select",
          "id": "text_alignment",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "left",
          "label": "Text alignment"
        },
        {
          "id": "title",
          "type": "text",
          "label": "Title"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image",
          "info": "240 x 100 px .png recommended."
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Add company info here.</p>"
        },
        {
          "type": "select",
          "id": "text_size",
          "label": "Text size",
          "options": [
            {
              "value": "small",
              "label": "Small"
            },
            {
              "value": "medium",
              "label": "Medium"
            },
            {
              "value": "large",
              "label": "Large"
            }
          ],
          "default": "medium"
        },
        {
          "id": "button_text",
          "type": "text",
          "label": "Button label",
          "default": "Explore",
          "info": "Leave the label blank to hide the button."
        },
        {
          "id": "call_svg",
          "type": "checkbox",
          "label": "Call SVG"
        },
        {
          "id": "button_link",
          "type": "url",
          "label": "Button link"
        }
      ]
    },
    {
      "type": "menu",
      "name": "Menu",
      "settings": [
        {
          "type": "select",
          "id": "column_size",
          "label": "Column size",
          "options": [
            { "value": "small", "label": "Small" },
            { "value": "medium", "label": "Medium" },
            { "value": "large", "label": "Large" }
          ],
          "default": "small"
        },
        {
          "id": "title",
          "type": "text",
          "label": "Title"
        },
        {
          "type": "link_list",
          "id": "menu",
          "default": "footer",
          "label": "Menu",
          "info": "Select navigation to display"
        }
      ]
    },
    {
      "type": "social",
      "name": "Social links",
      "settings": [
        {
          "type": "select",
          "id": "column_size",
          "label": "Column size",
          "options": [
            { "value": "small", "label": "Small" },
            { "value": "medium", "label": "Medium" },
            { "value": "large", "label": "Large" }
          ],
          "default": "small"
        },
        {
          "id": "title",
          "type": "text",
          "label": "Title"
        }
      ]
    },
    {
      "type": "signup",
      "name": "Email signup",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "column_size",
          "label": "Column size",
          "options": [
            { "value": "small", "label": "Small" },
            { "value": "medium", "label": "Medium" },
            { "value": "large", "label": "Large" }
          ],
          "default": "small"
        },
        {
          "id": "title",
          "type": "text",
          "label": "Title"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Add a text to attract more customers to <strong>sign up!</strong></p>"
        },
        {
          "type": "checkbox",
          "id": "show_social_links",
          "label": "Show social links",
          "default": true
        }
      ]
    },
    {
      "type": "custom_liquid",
      "name": "Custom liquid",
      "settings": [
        {
            "type": "select",
            "id": "column_size",
            "label": "Column size",
            "options": [
              { "value": "small", "label": "Small" },
              { "value": "medium", "label": "Medium" },
              { "value": "large", "label": "Large" }
            ],
            "default": "small"
        },
        {
          "id": "title",
          "type": "text",
          "label": "Title"
        },
        {
          "type": "liquid",
          "id": "custom_liquid",
          "label": "Custom liquid",
          "info": "Add app snippets or other Liquid code to create advanced customizations."
        }
      ]
    }
  ]
}
{% endschema %}
